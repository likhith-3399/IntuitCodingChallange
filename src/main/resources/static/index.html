<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Intuit Coding Challenge</title>
    <style>
        table { border-collapse: collapse;}
        table, td, th { border: 1px solid black;}
        p.big { line-height: 160%;}
        h3 {text-align: center;}
        h2 {font: 18px Arial, text-align: center;}
        h1 {font: 24px Arial, text-align: center;}
        body {text-align: center}
    </style>
</head>

<body>
<center>
    <h1>VOTING ARENA</h1>
    <table>

        <tr>
            <h1>
                <th colspan="5"><h2> MOVIES</h2></th></th>
            </h1>
        </tr>
        <tr>
            <th></th>
            <th><h3>Movie</h3></th>
            <th><h3>Description</h3></th>
            <th><h3>Category</h3></th>
            <th><h3>&emsp;Reviews&emsp;</h3></th>
        </tr>

        <tr>
            <td><img src="strangerthings.jpg" alt="Stranger Things" width="140" height="160"></td>
            <td><h3> Stranger <br>Things</h3></td>
            <td>
                <h3><p class="big">When a young boy disappears, his mother, a police chief, <br>and his friends must confront
                    terrifying forces in order to get him back</p></h3>
            </td>
            <td>
                <h3> Popular,<br> Horror</h3>
            </td>
            <td><a href="javascript:counter('Stranger_Things','Movie', 'UP',  'stThumbsUpCount');"><img src="up.jpg" alt="Thumbs Up" width="40" height="40" align="left"></a><h3><div id="stThumbsUpCount" align="center"></div><br></h3>
                <a href="javascript:counter('Stranger_Things','Movie', 'DOWN', 'stThumbsDownCount');"><img src="down.jpg" alt="Thumbs Down" width="40" height="40" align="left"></a><h3><div id="stThumbsDownCount" align="center"></div></h3>
            </td>
        </tr>

        <tr>
            <td><img src="drstrange.jpg" alt="Doctor Strange" width="140" height="160"></td>
            <td><h3> Doctor <br>Strange</h3></td>
            <td>
                <h3><p class="big">After a neurosurgeon loses the use of this hangs <br>he meets a mystical mentor who helps him
                    harness magic to<br> become the most powerful sorcerer on Earth.</p></h3>
            </td>
            <td>
                <h3>Action</h3>
            </td>
            <td>
                <a href="javascript:counter('Doctor_Strange','Movie', 'UP',  'drThumbsUpCount');"><img src="up.jpg" alt="Thumbs Up" width="40" height="40" align="left"></a><h3><div id="drThumbsUpCount" align="center"></div><br></h3>
                <a href="javascript:counter('Doctor_Strange','Movie', 'DOWN', 'drThumbsDownCount');"><img src="down.jpg" alt="Thumbs Down" width="40" height="40" align="left"></a><h3><div id="drThumbsDownCount" align="center"></div></h3>
            </td>
        </tr>

        <tr>
            <td><img src="planetearth.jpg" alt="Planet Earth" width="140" height="160"></td>
            <td><h3>Planet <br> Earth</h3></td>
            <td>
                <h3><p class="big">This landmark series transports nature lovers all over the earth.</p></h3>
            </td>
            <td><h3>Documentary</h3></td>
            <td>
                <a href="javascript:counter('Planet_Earth','Documentary', 'UP',  'planetThumbsUpCount');"><img src="up.jpg" alt="Thumbs Up" width="40" height="40" align="left"></a><h3><div id="planetThumbsUpCount" align="center"></div><br></h3>
                <a href="javascript:counter('Planet_Earth','Documentary', 'DOWN', 'planetThumbsDownCount');"><img src="down.jpg" alt="Thumbs Down" width="40" height="40" align="left"></a><h3><div id="planetThumbsDownCount" align="center"></div></h3>
            </td>
        </tr>

        <tr height=60px></tr>
        <tr>
            <h1>
                <th colspan="5"><font size="5"> TV-SERIES</font></th>
            </h1>
        </tr>

        <tr>
            <td><img src="flash.jpg" alt="Flash" width="140" height="160"></td>
            <td>
                <h3>Flash</h3>
            </td>
            <td>
                <h3><p class="big">Zoom challenges Barry to a race, but the team suspects a trap and <br/> tries to talk Barry out
                    of it.</p></h3>
            </td>
            <td>
                <h3>Popular,<br> Action</h3>
            </td>
            <td><a href="javascript:counter('Flash','TV-Series', 'UP',  'flashThumbsUpCount');"><img src="up.jpg" alt="Thumbs Up" width="40" height="40" align="left"></a><h3><div id="flashThumbsUpCount" align="center"></div><br></h3>
                <a href="javascript:counter('Flash','TV-Series', 'DOWN', 'flashThumbsDownCount');"><img src="down.jpg"  alt="Thumbs Down" width="40" height="40" align="left"></a><h3><div id="flashThumbsDownCount" align="center"></div></h3>
            </td>
        </tr>
        <tr>
            <td><img src="friends.jpg" alt="Friends" width="140" height="160"></td>
            <td>
                <h3>&emsp;Friends &emsp;</h3>
            </td>
            <td>
                <h3><p class="big">This his sitcom follows the merry misadventures of six 20-somethings pals <br/> as they navigate
                    the pitfalls of work, life and love.</p></h3>
            </td>
            <td>
                <h3>Comedy</h3>
            </td>
            <td>
                <a href="javascript:counter('Friends','TV-Series', 'UP', 'friendsThumbsUpCount');"><img src="up.jpg" alt="Thumbs Up" width="40" height="40" align="left"></a><h3><div id="friendsThumbsUpCount" align="center"></div><br></h3>
                <a href="javascript:counter('Friends','TV-Series', 'DOWN', 'friendsThumbsDownCount');"><img src="down.jpg" alt="Thumbs Down" width="40" height="40" align="left"></a><h3><div id="friendsThumbsDownCount" align="center"></div></h3>
            </td>
        </tr>
    </table>
</center>
<br><br><br><br><br>
<h3><a href="javascript:resetCounter();">Reset All Values</a></h3>
<br><br><br><br><br>
<h3><a href="https://github.com/likhith-3399/IntuitCodingChallange.git">Visit my GITHUB page here !</a></h3>
<br><br><br><br><br>


<script src="http://code.jquery.com/jquery-1.5.2.min.js"></script>
<script>

    function counter(name, category, upDownCounter, divId) {
       console.log('Clicked On - ',name ,':', category, ':', upDownCounter);

        $.ajax({
            url: '/voting/storeMovieDetails',
            type: 'PUT',
            dataType: 'json',
            contentType:"application/json; charset=utf-8",
            data:  JSON.stringify({
                "movieName": name,
                "type": upDownCounter
            }),
            success: function(data) {
                document.getElementById(divId).innerHTML = data;
                console.log('Value : ', data);
            },
            failure: function(data) {
                console.log('ERROR : ', data);
            }
        });
    }

    function resetCounter(){
        console.log('Resetting all countered Values');
        $.ajax({
            url: '/voting/resetValues',
            type: 'DELETE',
            success: function(result) {
                reset();
            },
            failure: function(result) {
                console.log('ERROR : ', result);
                alert('Error while resetting the counter values !!!');
            }
        });
    }

    function reset() {
        var upDivIds = ['stThumbsUpCount', 'stThumbsDownCount', 'planetThumbsUpCount', 'planetThumbsDownCount',
        'drThumbsDownCount', 'drThumbsUpCount','flashThumbsUpCount', 'flashThumbsDownCount', 'friendsThumbsUpCount', 'friendsThumbsDownCount'];

        for (var i = 0; i < upDivIds.length; i++) {
            document.getElementById(upDivIds[i]).innerHTML = '';
        }
        alert('All Values has been Reset !!!');
    }

</script>

</body>
</html>